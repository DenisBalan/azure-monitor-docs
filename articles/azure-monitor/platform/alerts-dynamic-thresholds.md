---
title: Creating Alerts with Dynamic Thresholds in Azure Monitor
description: Create Alerts with machine learning based Dynamic Thresholds
author: yanivlavi
services: azure-monitor
ms.service: azure-monitor
ms.topic: conceptual
ms.date: 11/29/2018
ms.author: Yaniv.Lavi
ms.reviewer: mbullwin
---

# Metric Alerts with Dynamic Thresholds in Azure Monitor (Public Preview)

Metric Alert with Dynamic Thresholds detection leverages advanced Machine Learning (ML) to learn metrics' historical behavior, identify patterns and anomalies that indicate possible service issues. It provides support of both a simple UI and operations at scale by allowing users to configure alert rules through the Azure Resource Manager API, in a fully automated manner.

Once an alert rule is created, it will fire only when the monitored metric doesn’t behave as expected, based on its custom-tailored thresholds.

## Why Should I apply dynamic thresholds condition type to my metrics alerts

1. **Scalable Alerting** – Dynamic Thresholds alerts can create custom-tailored thresholds for hundreds of metric series at a time. Yet providing the same ease of defining an alert on a single metric. Using either the UI or the Azure Resource Manager API results in fewer alert rules to manage. The scalable approach is especially useful when dealing with metric dimensions or when applying to multiple resources, like all subscription resources. Which translates to a significant time saving on management and creation of such alerts.

1. **Smart Metric Pattern Recognition** – Using our unique ML technology, we’re able to automatically detect metric pattern and adapt to metric changes over time, which may often include seasonality (Hourly / Daily / Weekly). Adapting to the metrics’ behavior over time and alerting based on deviations from its pattern relieves the burden of knowing the “right” threshold for each metric. The ML algorithm used in Dynamic Thresholds is designed to prevent noisy (low precision) or wide (low recall) thresholds that don’t have an expected pattern.

1. **Intuitive Configuration** – Dynamic Thresholds allow setting up metric alerts using high-level concepts, alleviating the need to have extensive domain knowledge about the metric.

## How to configure alerts with dynamic thresholds

Alerts with dynamic thresholds can be configured through Metric Alerts in Azure Monitor. [Learn more about how to configure Metric Alerts](alerts-metric.md).

## What does Sensitivity setting in dynamic thresholds mean

Alert Threshold Sensitivity is a high-level concept that controls the amount of deviation from metric behavior required to trigger an alert.
This option doesn't require domain knowledge about the metric like static threshold. The options available are:

    * high – More alerts, as alert will be triggered on smallest deviation.
    * Med – Less sensitive than high, fewer alerts than with high sensitivity (default)
    * Low – The least sensitive threshold.

## What are the Operator setting options in dynamic thresholds

Dynamic Thresholds alerts can create custom-tailored thresholds based on metric behavior for both upper and lower bounds using the same alert rule.
You can choose the alert to be triggered on one of the following three conditions:

    * Greater than the upper threshold or lower than the lower threshold (default)
    * Greater than the upper threshold
    * Lower than the lower threshold.

## What do the advanced settings in dynamic thresholds mean

**Failing Periods** - Dynamic Thresholds also allows you to configure “Number violations to trigger the alert”, a minimum number of deviations required within a certain time window for the system to raise an alert (the default time window is four deviations in 20 minutes). The user can configure failing periods and choose what to be alerted on by changing the failing periods and time window. This ability reduces alert noise generated by transient spikes. For example:

To trigger an alert when the issue is continuous for 20 minutes, 4 consecutive times in a given period of 5 minutes, use the following settings:

![Evaluated based on](media/alerts-dynamic-thresholds/0008.png)

To trigger an alert when there was a violation from a Dynamic threshold in 20 minutes out of the last 30 minutes with period of 5 minutes, use the following settings:

![Evaluated based on](media/alerts-dynamic-thresholds/0009.png)

**Ignore data before** - Users may also optionally define a start date from which the system should begin calculating the thresholds from. A typical use case may occur when a resource was a running in a testing mode and is now promoted to serve a production workload, and therefore the behavior of any metric during the testing phase should be disregarded.

## If the metric slowly changes over time, will this trigger an alert with dynamic thresholds

Probably no. Dynamic thresholds are good for detecting significant deviations rather than slowly evolving issues.

## How much data is used to preview the alert threshold? How much data is used for existing alerts

The thresholds appearing in the chart, before an alert is created on the metric, are calculated based on the last 10 days of historical data, once an alert is created, the Dynamic thresholds will acquire additional historical data that is available and will continuously learn based on new data to make the thresholds more accurate.
